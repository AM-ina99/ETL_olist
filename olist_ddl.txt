
CREATE TABLE [sellers] (
  [seller_id] nvarchar(255) PRIMARY KEY,
  [seller_zip_code_prefix] INT,
  [seller_city] nvarchar(255),
  [seller_state] nvarchar(255)
);

CREATE TABLE [product_category_name_translation] (
  [product_category_name] nvarchar(255) primary key,
  [product_category_name_english] nvarchar(255)
);

CREATE TABLE [products] (
  [product_id] nvarchar(255) PRIMARY KEY,
  [product_category_name] nvarchar(255),
  [product_name_lenght] INT,
  [product_description_lenght] INT,
  [product_photos_qty] nvarchar(255),
  [product_weight_g] INT,
  [product_length_cm] INT,
  [product_height_cm] INT,
  [product_width_cm] INT,
  FOREIGN KEY ([product_category_name]) REFERENCES [product_category_name_translation] ([product_category_name])
);

CREATE TABLE [customers] (
  [customer_id] nvarchar(255) PRIMARY KEY ,
  [customer_unique_id] nvarchar(255) ,
  [customer_zip_code_prefix] int,
  [customer_city] nvarchar(255),
  [customer_state] nvarchar(255)
);

CREATE TABLE [orders] (
  [order_id] nvarchar(255) PRIMARY KEY,
  [customer_id] nvarchar(255),
  [order_status] nvarchar(255),
  [order_purchase_timestamp] datetime,
  [order_approved_at] datetime,
  [order_delivered_carrier_date] datetime,
  [order_delivered_customer_date] datetime,
  [order_estimated_delivery_date] datetime,
  FOREIGN KEY ([customer_id]) REFERENCES [customers] ([customer_id])
);

CREATE TABLE [order_payments] (
  [order_id] nvarchar(255),
  [payment_sequential] INT,
  [payment_type] nvarchar(255),
  [payment_installments] INT,
  [payment_value] float,
  PRIMARY KEY ([order_id], [payment_sequential]),
  FOREIGN KEY (order_id) REFERENCES orders(order_id)
);



CREATE TABLE [order_items] (
  [order_id] nvarchar(255),
  [order_item_id] int ,
  [product_id] nvarchar(255),
  [seller_id] nvarchar(255),
  [shipping_limit_date] datetime,
  [price] float,
  [freight_value] float,
  PRIMARY KEY ([order_id], [order_item_id]),
  FOREIGN KEY ([order_id]) REFERENCES [orders] ([order_id]),
  FOREIGN KEY ([product_id]) REFERENCES [products] ([product_id]),
  FOREIGN KEY ([seller_id]) REFERENCES [sellers] ([seller_id])
);

CREATE TABLE [order_reviews] (
  [review_id] nvarchar(255),
  [order_id] nvarchar(255),
  [review_score] integer,
  [review_comment_title] nvarchar(255),
  [review_comment_message] nvarchar(255),
  [review_creation_date] datetime,
  [review_answer_timestamp] datetime,
  PRIMARY KEY ([review_id],[order_id]),
  FOREIGN KEY ([order_id]) REFERENCES [orders] ([order_id])
);

CREATE TABLE [geolocation] (
  [geolocation_zip_code_prefix] integer,
  [geolocation_lat] float,
  [geolocation_lng] float,
  [geolocation_city] nvarchar(255),
  [geolocation_state] nvarchar(255),
);

